# 12. ç¯å¢ƒå˜é‡åŠŸèƒ½å¼€å‘è®¡åˆ’

## åŠŸèƒ½æ¦‚è¿°

å®ç°æŒ‰ Server åˆ†å‰²çš„ç¯å¢ƒå˜é‡ç®¡ç†åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ä¸ºæ¯ä¸ª MQTT æœåŠ¡å™¨é…ç½®ç‹¬ç«‹çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶åœ¨ Topicã€Payloadã€å‘½ä»¤æ¨¡æ¿å’Œè„šæœ¬ä¸­ä½¿ç”¨ `{{å˜é‡å}}` æ ¼å¼è¿›è¡Œå˜é‡æ›¿æ¢ã€‚

## éœ€æ±‚è¯¦æƒ…

### æ ¸å¿ƒåŠŸèƒ½
1. **ç¯å¢ƒå˜é‡ç®¡ç†**
   - æ¯ä¸ª Server æ‹¥æœ‰ç‹¬ç«‹çš„ç¯å¢ƒå˜é‡é›†åˆ
   - æ”¯æŒå˜é‡çš„å¢åˆ æ”¹æŸ¥ (CRUD)
   - å˜é‡å€¼ä»…æ”¯æŒå­—ç¬¦ä¸²ç±»å‹
   - æ˜æ–‡å­˜å‚¨ï¼ˆä¸éœ€è¦åŠ å¯†ï¼‰

2. **å˜é‡æ›¿æ¢**
   - ä½¿ç”¨ `{{å˜é‡å}}` æ ¼å¼æ ‡è¯†å˜é‡
   - æ›¿æ¢åœºæ™¯ï¼š
     - è®¢é˜…çš„ Topic
     - å‘å¸ƒæ¶ˆæ¯çš„ Topic
     - å‘å¸ƒæ¶ˆæ¯çš„ Payload
     - å‘½ä»¤æ¨¡æ¿ä¸­çš„ Topic å’Œ Payload
     - è„šæœ¬ä¸­å¯é€šè¿‡ `env.å˜é‡å` è®¿é—®

3. **UI å…¥å£**
   - åœ¨åº•éƒ¨å‘½ä»¤æ çš„ã€Œå‘½ä»¤æ¨¡æ¿ã€æŒ‰é’®å·¦ä¾§æ–°å¢ã€Œç¯å¢ƒå˜é‡ã€æŒ‰é’®
   - ç‚¹å‡»åæ‰“å¼€å³ä¾§æŠ½å±‰ï¼Œå‚è€ƒå‘½ä»¤æ¨¡æ¿æŠ½å±‰çš„è®¾è®¡é£æ ¼

## æŠ€æœ¯æ–¹æ¡ˆ

### 1. æ•°æ®æ¨¡å‹

#### Rust åç«¯ (src-tauri/src/db/models.rs)

```rust
/// ç¯å¢ƒå˜é‡
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct EnvVariable {
    pub id: Option<i64>,
    pub server_id: i64,
    pub name: String,           // å˜é‡åï¼ˆå”¯ä¸€ï¼‰
    pub value: String,          // å˜é‡å€¼
    pub description: Option<String>,  // å˜é‡è¯´æ˜
    pub created_at: Option<String>,
    pub updated_at: Option<String>,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct CreateEnvVariableRequest {
    pub server_id: i64,
    pub name: String,
    pub value: String,
    pub description: Option<String>,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct UpdateEnvVariableRequest {
    pub id: i64,
    pub name: Option<String>,
    pub value: Option<String>,
    pub description: Option<String>,
}
```

#### TypeScript å‰ç«¯ (src/types/mqtt.ts)

```typescript
/**
 * ç¯å¢ƒå˜é‡
 */
export interface EnvVariable {
  id?: number;
  server_id: number;
  name: string;
  value: string;
  description?: string;
  created_at?: string;
  updated_at?: string;
}
```

### 2. åç«¯ Rust å‘½ä»¤

åˆ›å»º `src-tauri/src/commands/env.rs`ï¼š

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `get_env_variables(server_id)` | è·å–æŒ‡å®šæœåŠ¡å™¨çš„æ‰€æœ‰ç¯å¢ƒå˜é‡ |
| `create_env_variable(request)` | åˆ›å»ºç¯å¢ƒå˜é‡ |
| `update_env_variable(request)` | æ›´æ–°ç¯å¢ƒå˜é‡ |
| `delete_env_variable(id)` | åˆ é™¤ç¯å¢ƒå˜é‡ |

### 3. æ•°æ®å­˜å‚¨

åœ¨ç°æœ‰çš„ YAML æ–‡ä»¶å­˜å‚¨æ¶æ„ä¸‹ï¼Œä¸ºæ¯ä¸ª Server æ·»åŠ ç¯å¢ƒå˜é‡å­˜å‚¨ï¼š
- å­˜å‚¨è·¯å¾„ï¼š`{app_data}/env/{server_id}.yaml`

### 4. å‰ç«¯ Store

åˆ›å»º `src/stores/env.ts`ï¼š

```typescript
export const useEnvStore = defineStore("env", () => {
  // çŠ¶æ€
  const variables = ref<EnvVariable[]>([]);
  const loading = ref(false);
  
  // æ–¹æ³•
  const loadVariables = async (serverId: number) => { ... }
  const createVariable = async (request: CreateEnvVariableRequest) => { ... }
  const updateVariable = async (request: UpdateEnvVariableRequest) => { ... }
  const deleteVariable = async (id: number) => { ... }
  
  // å˜é‡æ›¿æ¢æ–¹æ³•
  const replaceVariables = (text: string): string => { ... }
  const getVariablesMap = (): Record<string, string> => { ... }
});
```

### 5. å‰ç«¯ç»„ä»¶

#### ç¯å¢ƒå˜é‡æŠ½å±‰ (src/components/env/EnvDrawer.vue)

å‚è€ƒ `TemplateDrawer.vue` è®¾è®¡ï¼ŒåŒ…å«ï¼š
- æœç´¢æ¡†ï¼šæŒ‰å˜é‡å/æè¿°ç­›é€‰
- æ–°å¢æŒ‰é’®
- å˜é‡åˆ—è¡¨ï¼ˆå¡ç‰‡å½¢å¼ï¼‰
  - å˜é‡å
  - å˜é‡å€¼ï¼ˆæ”¯æŒæ˜¾ç¤º/éšè—åˆ‡æ¢ï¼‰
  - æè¿°
  - æ“ä½œæŒ‰é’®ï¼ˆç¼–è¾‘ã€åˆ é™¤ï¼‰

#### ç¯å¢ƒå˜é‡å¯¹è¯æ¡† (src/components/env/EnvDialog.vue)

ç”¨äºæ–°å¢/ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼š
- å˜é‡åè¾“å…¥æ¡†ï¼ˆæ ¡éªŒï¼šå­—æ¯å¼€å¤´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰
- å˜é‡å€¼è¾“å…¥æ¡†
- æè¿°è¾“å…¥æ¡†ï¼ˆå¯é€‰ï¼‰

### 6. UI é›†æˆ

#### ä¿®æ”¹ CommandBar.vue

åœ¨ã€Œå‘½ä»¤æ¨¡æ¿ã€æŒ‰é’®å·¦ä¾§æ·»åŠ ã€Œç¯å¢ƒå˜é‡ã€æŒ‰é’®ï¼š

```vue
<el-button size="small" :icon="Key" text @click="handleOpenEnv">
  {{ $t('env.title') }}
</el-button>
```

#### ä¿®æ”¹ AppLayout.vue

æ·»åŠ  `openEnv` äº‹ä»¶ä¼ é€’ï¼š

```vue
<CommandBar 
  @open-templates="handleOpenTemplates" 
  @open-scripts="handleOpenScripts"
  @open-env="handleOpenEnv"
/>
```

#### ä¿®æ”¹ App.vue

æ·»åŠ ç¯å¢ƒå˜é‡æŠ½å±‰ï¼š

```vue
<el-drawer
  v-model="showEnvDrawer"
  :title="$t('env.drawerTitle')"
  direction="rtl"
  size="480px"
>
  <EnvDrawer v-if="activeServerId" :server-id="activeServerId" />
</el-drawer>
```

### 7. å˜é‡æ›¿æ¢é€»è¾‘é›†æˆ

#### æ›¿æ¢å·¥å…·å‡½æ•°

åˆ›å»º `src/utils/envReplacer.ts`ï¼š

```typescript
/**
 * æ›¿æ¢æ–‡æœ¬ä¸­çš„ç¯å¢ƒå˜é‡
 * @param text åŸå§‹æ–‡æœ¬
 * @param variables å˜é‡æ˜ å°„ { name: value }
 * @returns æ›¿æ¢åçš„æ–‡æœ¬
 */
export function replaceEnvVariables(
  text: string, 
  variables: Record<string, string>
): string {
  return text.replace(/\{\{(\w+)\}\}/g, (match, varName) => {
    return variables[varName] ?? match;
  });
}
```

#### é›†æˆä½ç½®

1. **å‘å¸ƒæ¶ˆæ¯** (`src/stores/mqtt.ts` æˆ– `PublishPanel.vue`)
   - åœ¨å‘é€å‰å¯¹ topic å’Œ payload è¿›è¡Œå˜é‡æ›¿æ¢

2. **è®¢é˜… Topic** (`src/stores/subscription.ts`)
   - åœ¨è®¢é˜…å‰å¯¹ topic è¿›è¡Œå˜é‡æ›¿æ¢

3. **ä½¿ç”¨å‘½ä»¤æ¨¡æ¿** (`src/stores/template.ts`)
   - åœ¨ `useTemplate` æ–¹æ³•ä¸­å¯¹ topic å’Œ payload è¿›è¡Œå˜é‡æ›¿æ¢


### 8. å›½é™…åŒ–

æ›´æ–°è¯­è¨€æ–‡ä»¶ï¼š

#### zh-CN.yaml

```yaml
env:
  title: ç¯å¢ƒå˜é‡
  drawerTitle: ç¯å¢ƒå˜é‡ç®¡ç†
  addVariable: æ–°å¢å˜é‡
  editVariable: ç¼–è¾‘å˜é‡
  name: å˜é‡å
  namePlaceholder: è¯·è¾“å…¥å˜é‡å
  nameHint: ä»¥å­—æ¯å¼€å¤´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿
  value: å˜é‡å€¼
  valuePlaceholder: è¯·è¾“å…¥å˜é‡å€¼
  description: æè¿°
  descriptionPlaceholder: è¯·è¾“å…¥å˜é‡æè¿°ï¼ˆå¯é€‰ï¼‰
  noVariables: æš‚æ— ç¯å¢ƒå˜é‡
  deleteConfirm: ç¡®å®šè¦åˆ é™¤å˜é‡ "{name}" å—ï¼Ÿ
  deleteTitle: åˆ é™¤å˜é‡
  deleteSuccess: å˜é‡å·²åˆ é™¤
  saveSuccess: å˜é‡å·²ä¿å­˜
  duplicateName: å˜é‡åå·²å­˜åœ¨
  invalidName: å˜é‡åæ ¼å¼ä¸æ­£ç¡®
  searchPlaceholder: æœç´¢å˜é‡åæˆ–æè¿°
```

#### en-US.yaml

```yaml
env:
  title: Environment Variables
  drawerTitle: Environment Variables
  addVariable: Add Variable
  editVariable: Edit Variable
  name: Name
  namePlaceholder: Enter variable name
  nameHint: Start with letter, only letters, numbers, underscores allowed
  value: Value
  valuePlaceholder: Enter variable value
  description: Description
  descriptionPlaceholder: Enter description (optional)
  noVariables: No environment variables
  deleteConfirm: Are you sure to delete variable "{name}"?
  deleteTitle: Delete Variable
  deleteSuccess: Variable deleted
  saveSuccess: Variable saved
  duplicateName: Variable name already exists
  invalidName: Invalid variable name format
  searchPlaceholder: Search by name or description
```

## å¼€å‘ä»»åŠ¡æ¸…å•

### é˜¶æ®µä¸€ï¼šåç«¯åŸºç¡€ (Rust)

| # | ä»»åŠ¡ | é¢„ä¼° |
|---|------|------|
| 1.1 | åœ¨ `models.rs` æ·»åŠ  EnvVariable ç›¸å…³ç»“æ„ä½“ | 15min |
| 1.2 | åˆ›å»º `commands/env.rs`ï¼Œå®ç° CRUD å‘½ä»¤ | 45min |
| 1.3 | åœ¨ `mod.rs` æ³¨å†Œæ–°å‘½ä»¤ | 5min |
| 1.4 | åœ¨ `lib.rs` æ³¨å†Œ Tauri å‘½ä»¤ | 5min |

### é˜¶æ®µäºŒï¼šå‰ç«¯åŸºç¡€

| # | ä»»åŠ¡ | é¢„ä¼° |
|---|------|------|
| 2.1 | åœ¨ `types/mqtt.ts` æ·»åŠ  EnvVariable ç±»å‹å®šä¹‰ | 10min |
| 2.2 | åˆ›å»º `stores/env.ts`ï¼Œå®ç°çŠ¶æ€ç®¡ç†å’Œ Tauri è°ƒç”¨ | 30min |
| 2.3 | åˆ›å»º `utils/envReplacer.ts`ï¼Œå®ç°å˜é‡æ›¿æ¢å·¥å…· | 15min |

### é˜¶æ®µä¸‰ï¼šUI ç»„ä»¶

| # | ä»»åŠ¡ | é¢„ä¼° |
|---|------|------|
| 3.1 | åˆ›å»º `components/env/EnvDialog.vue` | 45min |
| 3.2 | åˆ›å»º `components/env/EnvDrawer.vue` | 60min |

### é˜¶æ®µå››ï¼šUI é›†æˆ

| # | ä»»åŠ¡ | é¢„ä¼° |
|---|------|------|
| 4.1 | ä¿®æ”¹ `CommandBar.vue`ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡æŒ‰é’® | 15min |
| 4.2 | ä¿®æ”¹ `AppLayout.vue`ï¼Œä¼ é€’ openEnv äº‹ä»¶ | 10min |
| 4.3 | ä¿®æ”¹ `App.vue`ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡æŠ½å±‰ | 15min |

### é˜¶æ®µäº”ï¼šå˜é‡æ›¿æ¢é›†æˆ

| # | ä»»åŠ¡ | é¢„ä¼° |
|---|------|------|
| 5.1 | ä¿®æ”¹å‘å¸ƒæ¶ˆæ¯é€»è¾‘ï¼Œé›†æˆå˜é‡æ›¿æ¢ | 20min |
| 5.2 | ä¿®æ”¹è®¢é˜…é€»è¾‘ï¼Œé›†æˆå˜é‡æ›¿æ¢ | 15min |
| 5.3 | ä¿®æ”¹æ¨¡æ¿ä½¿ç”¨é€»è¾‘ï¼Œé›†æˆå˜é‡æ›¿æ¢ | 15min |

### é˜¶æ®µå…­ï¼šå›½é™…åŒ–ä¸æµ‹è¯•

| # | ä»»åŠ¡ | é¢„ä¼° |
|---|------|------|
| 6.1 | æ›´æ–° `zh-CN.yaml` å’Œ `en-US.yaml` | 15min |
| 6.2 | é›†æˆæµ‹è¯•ä¸è°ƒè¯• | 30min |

**é¢„ä¼°æ€»æ—¶é•¿ï¼šçº¦ 6 å°æ—¶**

## æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶
- `src-tauri/src/commands/env.rs`
- `src/stores/env.ts`
- `src/utils/envReplacer.ts`
- `src/components/env/EnvDialog.vue`
- `src/components/env/EnvDrawer.vue`

### ä¿®æ”¹æ–‡ä»¶
- `src-tauri/src/db/models.rs`
- `src-tauri/src/commands/mod.rs`
- `src-tauri/src/lib.rs`
- `src/types/mqtt.ts`
- `src/stores/index.ts`
- `src/components/layout/CommandBar.vue`
- `src/components/layout/AppLayout.vue`
- `src/App.vue`
- `src/stores/mqtt.ts` æˆ–ç›¸å…³å‘å¸ƒé€»è¾‘
- `src/stores/subscription.ts`
- `src/stores/template.ts`
- `src/i18n/locales/zh-CN.yaml`
- `src/i18n/locales/en-US.yaml`

## UI è®¾è®¡å‚è€ƒ

### ç¯å¢ƒå˜é‡æŠ½å±‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æœç´¢å˜é‡...]           [+ æ–°å¢å˜é‡]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ API_KEY                    [â‹®]     â”‚ â”‚
â”‚ â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”‚
â”‚ â”‚ abc123***                  [ğŸ‘]    â”‚ â”‚
â”‚ â”‚ API å¯†é’¥                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ DEVICE_ID                   [â‹®]    â”‚ â”‚
â”‚ â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”‚
â”‚ â”‚ device_001                         â”‚ â”‚
â”‚ â”‚ è®¾å¤‡å”¯ä¸€æ ‡è¯†                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ (æ›´å¤šå˜é‡å¡ç‰‡...)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¯å¢ƒå˜é‡å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–°å¢ç¯å¢ƒå˜é‡                       [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å˜é‡å *                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ API_KEY                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â„¹ ä»¥å­—æ¯å¼€å¤´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿  â”‚
â”‚                                         â”‚
â”‚ å˜é‡å€¼ *                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ your-api-key-here                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ æè¿°                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç”¨äºè®¤è¯çš„ API å¯†é’¥                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚                    [å–æ¶ˆ]    [ä¿å­˜]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä½¿ç”¨ç¤ºä¾‹

### åœ¨æ¶ˆæ¯ä¸­ä½¿ç”¨å˜é‡

å‡è®¾å®šä¹‰äº†ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `DEVICE_ID` = `device_001`
- `API_KEY` = `abc123`

**å‘å¸ƒæ¶ˆæ¯ Topicï¼š**
```
devices/{{DEVICE_ID}}/status
```
æ›¿æ¢åï¼š`devices/device_001/status`

**å‘å¸ƒæ¶ˆæ¯ Payloadï¼š**
```json
{
  "deviceId": "{{DEVICE_ID}}",
  "apiKey": "{{API_KEY}}",
  "timestamp": 1234567890
}
```
æ›¿æ¢åï¼š
```json
{
  "deviceId": "device_001",
  "apiKey": "abc123",
  "timestamp": 1234567890
}
```

